<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Configura√ß√µes do sistema de vendas">
    <title>Configura√ß√µes - Sistema de Vendas de Assados</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header id="appHeader">
        <div class="header-content">
            <img src="imagens/logo.png" alt="Logo da Empresa" class="logo-header" onerror="this.style.display='none'">
            <h1>Sistema de Vendas - Assados</h1>
        </div>
        <nav>
            <a href="dashboard.html" class="nav-button">In√≠cio</a>
            <a href="agendamentos.html" class="nav-button">Agendamentos</a>
            <a href="vendas.html" class="nav-button">Vendas</a>
            <a href="relatorios.html" class="nav-button">Relat√≥rios</a>
            <a href="configuracoes.html" class="nav-button active">‚öôÔ∏è Config</a>
            <button id="logoutButton" title="Fazer logout">Sair</button>
        </nav>
    </header>

    <main id="appContent">
        <div id="configView" class="container">
            <h2>‚öôÔ∏è Configura√ß√µes do Sistema</h2>

            <!-- Se√ß√£o de Produtos -->
            <div class="config-section">
                <h3>üì¶ Gerenciar Produtos</h3>
                <p style="color: #666; font-size: 0.95em;">Adicione, edite ou remova produtos de venda</p>

                <div class="form-section">
                    <h4>‚ûï Novo Produto</h4>
                    <form id="formNovoProduto" class="form-grid">
                        <div class="form-group">
                            <label for="novoProdutoNome">Nome do Produto <span class="required">*</span></label>
                            <input type="text" id="novoProdutoNome" placeholder="Ex: Frango" maxlength="50" required>
                        </div>

                        <div class="form-group">
                            <label for="novoProdutoTipo">Tipo <span class="required">*</span></label>
                            <select id="novoProdutoTipo" required>
                                <option value="">-- Selecione --</option>
                                <option value="kg">Por Quilograma (kg)</option>
                                <option value="fixo">Valor Fixo (Unidade)</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="novoProdutoPreco">Pre√ßo <span class="required">*</span></label>
                            <input type="number" id="novoProdutoPreco" placeholder="28.00" step="0.01" min="0.01" required>
                            <small style="color: #666; display: block; margin-top: 5px;" id="novoProdutoPrecoInfo">R$ por kg</small>
                        </div>

                        <div class="form-group full-width">
                            <button type="submit" class="action-button button-primary">
                                ‚úì Adicionar Produto
                            </button>
                        </div>
                    </form>
                </div>

                <h4>üìã Produtos Cadastrados</h4>
                <div id="listaProdutos" class="list-container">
                    <!-- Carregado dinamicamente -->
                </div>
            </div>

            <!-- Se√ß√£o de Pre√ßos R√°pidos -->
            <div class="config-section">
                <h3>üí∞ Editar Pre√ßos R√°pido</h3>
                <p style="color: #666; font-size: 0.95em;">Altere rapidamente os pre√ßos dos produtos existentes</p>

                <div id="edicaoPrecosRapida" class="priceQuickEdit">
                    <!-- Carregado dinamicamente -->
                </div>
            </div>

            <!-- Se√ß√£o de Backup/Dados -->
            <div class="config-section">
                <h3>üíæ Dados & Backup</h3>
                <p style="color: #666; font-size: 0.95em;">Exporte, importe ou limpe dados do sistema</p>

                <div class="button-group">
                    <button id="exportDadosBtn" class="action-button" style="background-color: #17a2b8;">
                        üì• Exportar Dados (JSON)
                    </button>
                    <button id="limparDadosBtn" class="action-button" style="background-color: #fd7e14;">
                        üóëÔ∏è Limpar Todos os Dados
                    </button>
                </div>

                <div id="importDadosDiv" style="margin-top: 20px;">
                    <label for="importFile" style="display: block; margin-bottom: 10px; font-weight: 600;">
                        üì§ Importar Dados (JSON):
                    </label>
                    <input type="file" id="importFile" accept=".json" style="padding: 10px; border: 2px dashed #ddd; border-radius: 5px; width: 100%; box-sizing: border-box;">
                    <button id="importDadosBtn" class="action-button" style="margin-top: 10px; background-color: #28a745;">
                        ‚úì Importar
                    </button>
                </div>
            </div>

            <!-- Informa√ß√µes do Sistema -->
            <div class="config-section info-section">
                <h3>‚ÑπÔ∏è Informa√ß√µes do Sistema</h3>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 6px;">
                    <p><strong>Vers√£o:</strong> 2.0.0</p>
                    <p><strong>√öltima atualiza√ß√£o:</strong> 14 de Janeiro de 2026</p>
                    <p><strong>Storage Usado:</strong> <span id="storageUsed">0 KB</span></p>
                    <p><strong>Produtos:</strong> <span id="countProdutos">0</span></p>
                    <p><strong>Agendamentos:</strong> <span id="countAgendamentos">0</span></p>
                    <p><strong>Vendas:</strong> <span id="countVendas">0</span></p>
                </div>
            </div>
        </div>
    </main>

    <!-- Modal de Confirma√ß√£o -->
    <div id="confirmationModal" class="modal" role="dialog" aria-labelledby="modalMessageText" aria-modal="true">
        <div class="modal-content">
            <button class="modal-close" id="modalCloseBtn" aria-label="Fechar modal">&times;</button>
            <p id="modalMessageText">Tem certeza?</p>
            <div class="modal-buttons">
                <button id="modalConfirm" class="modal-confirm-button">Confirmar</button>
                <button id="modalCancel" class="modal-cancel-button">Cancelar</button>
            </div>
        </div>
    </div>

    <!-- Modal de Edi√ß√£o de Produto -->
    <div id="editProdutoModal" class="modal" role="dialog" aria-modal="true">
        <div class="modal-content">
            <button class="modal-close" id="editProdutoCloseBtn" aria-label="Fechar modal">&times;</button>
            <h3>‚úèÔ∏è Editar Produto</h3>
            <input type="hidden" id="editProdutoIdInput">
            <div class="form-group">
                <label for="editProdutoNomeInput">Nome do Produto:</label>
                <input type="text" id="editProdutoNomeInput" maxlength="50" required>
            </div>
            <div class="form-group">
                <label for="editProdutoTipoInput">Tipo:</label>
                <select id="editProdutoTipoInput" required onchange="atualizarLabelEdicaoProduto()">
                    <option value="kg">Por Quilograma (kg)</option>
                    <option value="fixo">Valor Fixo (Unidade)</option>
                </select>
            </div>
            <div class="form-group">
                <label for="editProdutoPrecoInput">Pre√ßo:</label>
                <input type="number" id="editProdutoPrecoInput" step="0.01" min="0.01" required>
                <small style="color: #666; display: block; margin-top: 5px;" id="editProdutoPrecoInfo">R$ por kg</small>
            </div>
            <p id="editProdutoModalError" class="error-text" role="alert">Erro ao processar.</p>
            <div class="modal-buttons">
                <button id="editProdutoConfirmBtn" class="modal-confirm-button">Salvar</button>
                <button id="editProdutoCancelBtn" class="modal-cancel-button">Cancelar</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
